{"ast":null,"code":"import { ProfileAPI } from \"../../components/profile/ApiProfile\";\nimport { UserAPI } from \"../../components/users/Api\";\nlet initialstate = {\n  Posts: [{\n    id: 1,\n    message: 'Hi, how are you?',\n    likesCount: 12\n  }, {\n    id: 2,\n    message: 'It\\'s my first post',\n    likesCount: 11\n  }, {\n    id: 3,\n    message: 'Blabla',\n    likesCount: 11\n  }, {\n    id: 4,\n    message: 'Dada',\n    likesCount: 11\n  }],\n  newPostText: '',\n  profile: null,\n  status: ''\n};\n\nconst PostsDataReducer = (state = initialstate, action) => {\n  if (action.type === 'AddPost') {\n    let newPost = {\n      id: 5,\n      message: action.postMassage,\n      likesCount: 0\n    };\n    return { ...state,\n      Posts: [...state.Posts, newPost]\n    };\n  } else if (action.type === 'setProfile') {\n    return { ...state,\n      profile: action.profile\n    };\n  } else if (action.type === 'Get_status') {\n    return { ...state,\n      status: action.status\n    };\n  } else {\n    return state;\n  }\n};\n\nexport const setProfilePage = userId => async dispatch => {\n  let response = await UserAPI.getProfile(userId);\n  dispatch(setProfile(response.data));\n};\nexport const setStatus = status => {\n  return {\n    type: 'Get_status',\n    status\n  };\n};\nexport const getStatus = userId => dispatch => {\n  UserAPI.getStatus(userId).then(response => {\n    dispatch(setStatus(response.data));\n  });\n};\nexport const updateStatus = status => dispatch => {\n  UserAPI.updateStatus(status).then(response => {\n    if (response.data.resultCode === 0) {\n      dispatch(setStatus(status));\n    }\n  });\n};\nexport const addPostcreator = text => {\n  return {\n    type: 'AddPost',\n    postMassage: text\n  };\n};\nexport const setProfile = profile => ({\n  type: 'setProfile',\n  profile\n});\nexport const OnPostchangecreator = text => {\n  return {\n    type: 'UpdatePost',\n    Newtext: text\n  };\n};\nexport default PostsDataReducer;","map":{"version":3,"sources":["C:/Users/tvirg/OneDrive/Рабочий стол/my app/src/redux/state/PostsData-reducer.js"],"names":["ProfileAPI","UserAPI","initialstate","Posts","id","message","likesCount","newPostText","profile","status","PostsDataReducer","state","action","type","newPost","postMassage","setProfilePage","userId","dispatch","response","getProfile","setProfile","data","setStatus","getStatus","then","updateStatus","resultCode","addPostcreator","text","OnPostchangecreator","Newtext"],"mappings":"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","sourcesContent":["import {ProfileAPI} from \"../../components/profile/ApiProfile\";\nimport {UserAPI} from \"../../components/users/Api\";\n\n\nlet initialstate = {\n  Posts: [\n      {id: 1, message: 'Hi, how are you?', likesCount: 12},\n      {id: 2, message: 'It\\'s my first post', likesCount: 11},\n      {id: 3, message: 'Blabla', likesCount: 11},\n      {id: 4, message: 'Dada', likesCount: 11} \n    ],\n  newPostText : '',\n  profile: null,\n    status: ''\n}\nconst PostsDataReducer = (state = initialstate, action) =>{\n\nif (action.type === 'AddPost'){\n        let newPost = {\n          id: 5,\n          message: action.postMassage,\n          likesCount: 0\n        };\n\n        return{\n          ...state,\n          Posts: [...state.Posts, newPost]\n        };\n      }\n    else if (action.type === 'setProfile'){\n      return{\n        ...state,\n        profile: action.profile\n      }\n    }\n    else if (action.type === 'Get_status'){\n        return{\n            ...state,\n            status: action.status\n        }\n    }\n      else {\n        return state;\n      }\n}\nexport const setProfilePage =(userId)=> async (dispatch) => {\n    let response = await UserAPI.getProfile(userId);\n            dispatch(setProfile(response.data));\n        }\n\n\n\nexport const setStatus = (status) => { return {type: 'Get_status', status}}\n\nexport const getStatus = (userId) => (dispatch) => {\n    UserAPI.getStatus(userId)\n        .then(response => {\n            dispatch(setStatus(response.data));\n        });\n}\nexport const updateStatus = (status) => (dispatch) => {\n    UserAPI.updateStatus(status)\n        .then(response => {\n            if (response.data.resultCode === 0) {\n                dispatch(setStatus(status));\n            }\n        });\n}\n\n\n\n\n\nexport const addPostcreator = (text) =>{\n  return{\n      type: 'AddPost', postMassage: text\n  }\n}\nexport const setProfile= (profile) =>({\n    type: 'setProfile', profile})\n\nexport const OnPostchangecreator = (text) =>{\n  return{\n      type: 'UpdatePost', Newtext: text\n  }\n}\nexport default PostsDataReducer;\n"]},"metadata":{},"sourceType":"module"}